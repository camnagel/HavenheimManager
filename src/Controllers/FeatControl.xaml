<UserControl x:Class="HavenheimManager.Controllers.FeatControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
             mc:Ignorable="d">
    <Grid Background="LightGray">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel>
            <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Width="2360" Margin="10,10,0,0">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Width="1500" Height="20">
                    <TextBlock>Name</TextBlock>
                    <TextBlock Margin="180, 0, 0, 0">Filters</TextBlock>
                    <TextBlock Margin="188, 0, 0, 0">Selected Feat</TextBlock>
                    <TextBlock Margin="610, 0, 0, 0">Favorites</TextBlock>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Width="1500" Height="900">
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" Width="200" Height="900"
                                Margin="0,0,10,0">
                        <TextBox Text="{Binding FeatSearchText, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,5"
                                 Height="20">
                            <b:Interaction.Triggers>
                                <b:EventTrigger EventName="LostFocus">
                                    <b:InvokeCommandAction Command="{Binding FeatSearchAddPlaceholderTextCommand}" />
                                </b:EventTrigger>
                                <b:EventTrigger EventName="GotFocus">
                                    <b:InvokeCommandAction Command="{Binding FeatSearchRemovePlaceholderTextCommand}" />
                                </b:EventTrigger>
                            </b:Interaction.Triggers>
                        </TextBox>
                        <ListBox ItemsSource="{Binding FilteredFeatList}" Background="DimGray" Width="200" Height="875"
                                 SelectedItem="{Binding SelectedFeat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                 Foreground="AliceBlue">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock Text="{Binding Path=Name}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>

                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" Width="200" Height="900"
                                Margin="0,0,20,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding FeatMinLevel, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="0,0,0,5" Height="20" Width="25">
                                <b:Interaction.Triggers>
                                    <b:EventTrigger EventName="LostFocus">
                                        <b:InvokeCommandAction
                                            Command="{Binding FeatMinLevelAddPlaceholderTextCommand}" />
                                    </b:EventTrigger>
                                    <b:EventTrigger EventName="GotFocus">
                                        <b:InvokeCommandAction
                                            Command="{Binding FeatMinLevelRemovePlaceholderTextCommand}" />
                                    </b:EventTrigger>
                                </b:Interaction.Triggers>
                            </TextBox>
                            <TextBlock Text=" &lt;= Level &lt;= " Height="20" />
                            <TextBox Text="{Binding FeatMaxLevel, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="0,0,0,5" Height="20" Width="25">
                                <b:Interaction.Triggers>
                                    <b:EventTrigger EventName="LostFocus">
                                        <b:InvokeCommandAction
                                            Command="{Binding FeatMaxLevelAddPlaceholderTextCommand}" />
                                    </b:EventTrigger>
                                    <b:EventTrigger EventName="GotFocus">
                                        <b:InvokeCommandAction
                                            Command="{Binding FeatMaxLevelRemovePlaceholderTextCommand}" />
                                    </b:EventTrigger>
                                </b:Interaction.Triggers>
                            </TextBox>
                        </StackPanel>

                        <Expander Header="Core" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding CoreFeatFilterList}" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.CoreFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Skills" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding SkillFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource= {RelativeSource AncestorType=ListBox}, Path=DataContext.SkillFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Class" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding ClassFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.ClassFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Combat" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding CombatFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.CombatFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Role" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding RoleFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.RoleFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Spells" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding MagicFeatFilterList}" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.MagicFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Bonus" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding BonusFeatFilterList}" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.BonusFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Condition" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding ConditionFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.ConditionFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Source" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding SourceFeatFilterList}" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.SourceFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>

                        <Expander Header="Custom" FontSize="10" FontWeight="Bold">
                            <ListBox ItemsSource="{Binding CustomFeatFilterList}" Height="500"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="LightGray">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox FontWeight="Normal"
                                                      Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox},Path=DataContext.CustomFeatCheckboxCommand}"
                                                      CommandParameter="{Binding}"
                                                      Content="{Binding}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>
                    </StackPanel>

                    <StackPanel Orientation="Vertical" HorizontalAlignment="Left" VerticalAlignment="Top" Width="500"
                                Height="900">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top"
                                    Width="500" Height="20">
                            <TextBlock Margin="0, 0, 3, 0">Name:</TextBlock>
                            <TextBox Text="{Binding SelectedFeat.Name}" Width="256" Height="20" Background="DimGray"
                                     Foreground="AliceBlue" IsReadOnly="True" />

                            <TextBlock Margin="15, 0, 3, 0">Source:</TextBlock>
                            <TextBox Text="{Binding SelectedFeat.Source}" Width="150" Height="20" Background="DimGray"
                                     Foreground="AliceBlue" IsReadOnly="True" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="0, 5, 0, 0">
                            <TextBlock Margin="0, 0, 3, 0">Url:</TextBlock>
                            <TextBox Text="{Binding SelectedFeat.Url}" Width="407" Height="20" Background="DimGray"
                                     Foreground="AliceBlue" IsReadOnly="True" />
                            <TextBlock Margin="15, 0, 3, 0">Level:</TextBlock>
                            <TextBox Text="{Binding SelectedFeat.Level}" Width="25" Height="20" Background="DimGray"
                                     Foreground="AliceBlue" IsReadOnly="True" />
                        </StackPanel>

                        <TextBlock Margin="0, 5, 0, 0">Benefits:</TextBlock>
                        <TextBox Text="{Binding SelectedFeat.Description}" Width="500" Height="600"
                                 Background="DimGray" Foreground="AliceBlue" IsReadOnly="True" />

                        <StackPanel Orientation="Horizontal" Height="110" Margin="0, 5, 0, 0">
                            <StackPanel Orientation="Vertical" Width="150">
                                <TextBlock Height="20">Prerequisites:</TextBlock>
                                <ListBox Height="90" Background="DimGray" Foreground="AliceBlue"
                                         ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                         ItemsSource="{Binding SelectedFeat.Prereqs}"
                                         SelectedItem="{Binding SelectedFeatReq, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                            <TextBlock Text="&#x2794;" VerticalAlignment="Center" />
                            <TextBox Text="{Binding SelectedFeat.Name}" IsReadOnly="True" Height="20" Width="150"
                                     Margin="5, 0, 5, 0" />
                            <TextBlock Text="&#x2794;" VerticalAlignment="Center" />
                            <StackPanel Orientation="Vertical" Width="150">
                                <TextBlock Height="20">Required By:</TextBlock>
                                <ListBox Height="90" Background="DimGray" Foreground="AliceBlue"
                                         ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                         ItemsSource="{Binding SelectedFeat.Postreqs}"
                                         SelectedItem="{Binding SelectedFeatReq, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                        </StackPanel>

                        <TextBlock Margin="0, 5, 0, 0">Notes:</TextBlock>
                        <TextBox Text="{Binding SelectedFeat.Notes}" Width="500" Height="100" Background="DimGray"
                                 Foreground="AliceBlue" IsReadOnly="False" />
                    </StackPanel>

                    <StackPanel Orientation="Vertical" HorizontalAlignment="Left" VerticalAlignment="Top" Width="150"
                                Height="900" Margin="10, 0, 0, 0">
                        <TextBlock>Antirequisites:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.Antireqs}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="117" />

                        <TextBlock Margin="0, 5, 0, 0">Custom Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.CustomTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Core Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.CoreTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Skill Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.SkillTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Class Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.ClassTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Combat Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.CombatTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Role Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.RoleTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Spell Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.MagicTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />

                        <TextBlock Margin="0, 5, 0, 0">Bonus Tags:</TextBlock>
                        <ListBox ItemsSource="{Binding SelectedFeat.BonusTags}" Background="DimGray"
                                 Foreground="AliceBlue" Width="150" Height="75" />
                    </StackPanel>

                    <StackPanel Orientation="Vertical" Margin="20, 0, 0, 0" Width="150">
                        <ListBox ItemsSource="{Binding FavoriteFeatList}" Background="DimGray" Foreground="AliceBlue"
                                 Width="150" Height="540"
                                 SelectedItem="{Binding SelectedFeat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock Text="{Binding Path=Name}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                        <TextBlock Margin="0, 5, 0, 0">Hidden</TextBlock>
                        <Expander>
                            <ListBox ItemsSource="{Binding HiddenFeatList}" Background="DimGray" Foreground="AliceBlue"
                                     Width="150" Height="317"
                                     SelectedItem="{Binding SelectedFeat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Vertical">
                                            <TextBlock Text="{Binding Path=Name}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Expander>
                    </StackPanel>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Bottom" Width="1500"
                            Height="50">
                    <Button Content="Favorite"
                            Command="{Binding AddFavoriteFeatCommand}"
                            Width="60" Height="30" Margin="25,0,30,0" />

                    <Button Content="Hide"
                            Command="{Binding AddHiddenFeatCommand}"
                            Width="60" Height="30" Margin="0,0,25,0" />

                    <Button Content="Edit"
                            Command="{Binding EditFeatCommand}"
                            Width="60" Height="30" Margin="330,0,0,0" />

                    <Button Content="New"
                            Command="{Binding NewFeatCommand}"
                            Width="60" Height="30" Margin="60,0,60,0" />

                    <Button Content="Remove"
                            Command="{Binding RemoveFeatCommand}"
                            Width="60" Height="30" Margin="0,0,100,0" />

                    <Button Content="Unfavorite"
                            Command="{Binding RemoveFavoriteFeatCommand}"
                            Width="60" Height="30" Margin="190,0,10,0" />

                    <Button Content="Show"
                            Command="{Binding RemoveHiddenFeatCommand}"
                            Width="60" Height="30" Margin="0,0,0,0" />
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</UserControl>